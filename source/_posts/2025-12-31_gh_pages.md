---
layout: '[layout]'
title: GitHub Pages + Hexo创建博客
date: 2025-12-31 15:33:50
tags: hexo
excerpt: 记录GitHub Pages创建博客
---

# 安装hexo
1. 安装[Node.js](https://nodejs.org/zh-cn/download)。

2. 使用npm安装hexo-cli。
```bash
npm install -g hexo-cli
```
3. 初始化Hexo博客。
```bash
hexo init blog
```
4. 安装node.js依赖包。
```bash
cd blog
npm install 
```

# 设置git仓库
## 推送源码
```bash
git init

git config user.name "you"
git config user.email "you@users.noreply.github.com"

git remote add origin git@github.com:you/your_repo.git

git add .
git commit -m "Initial commit"
git branch -M main
git push -u origin main
```
## 创建Token
1. 在GitHub Settings-->Developer settings-->Personal access tokens-->Tokens (classic)-->Generate new tokens (classic)创建一个token用于Github Action。
2. Note可命名为`hexo_token`，配置中勾选`repo`和`workflow`后生成token。
3. 将token复制到仓库设置-->Secrets and variables-->Actions-->Repository secrets。
## 修改`_config.yml`配置deploy
```bash
deploy:
  type: git
  repo: git@github.com:you/you.github.io.git
  branch: gh-pages
```
## 配置Github Action
1. 在`\.github`新增`workflows\deploy.yml`，内容如下。
```
name: Deploy Hexo to GitHub Pages

on:
  push:
    branches:
      - main  # 当推送到 main 分支时触发

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v2
        with:
          submodules: false  # 禁用子模块检查

      - name: Setup Node.js
        uses: actions/setup-node@v2
        with:
          node-version: '24'

      - name: Install Dependencies
        run: npm install

      - name: Install Hexo Git Deployer
        run: |
          npm install hexo-deployer-git --save
          npm install hexo-cli -g

      - name: Clean and Generate Static Files
        run: |
          hexo clean
          hexo generate

      - name: Configure Git
        run: |
          git config --global user.name 'github-actions[bot]'
          git config --global user.email 'github-actions[bot]@users.noreply.github.com'

      - name: Deploy to GitHub Pages
        env:
          GH_TOKEN: ${{ secrets.hexo_token }}
        run: |
          cd public/
          git init
          git add -A
          git commit -m "Create by workflows"
          git remote add origin https://${{ secrets.hexo_token }}@github.com/your/your-repo.git
          git push origin HEAD:gh-pages -f
```
2. node-version需版本一直，`node --version`查看版本。
# [Icarus](https://ppoffice.github.io/hexo-theme-icarus/uncategorized/getting-started-with-icarus/#install-npm)主题美化
1. 安装Icarus
```bash
npm install -S hexo-theme-icarus hexo-renderer-inferno
```
安装完成后等一会生成`_config.icarus.yml`文件
2. 配置为Icarus主题
```bash
hexo config theme icarus
```
# 开始写作
## 新建文章
```bash
hexo new [layout] <title>
```
## 启动 Hexo 本地服务器
```bash
hexo server
```
